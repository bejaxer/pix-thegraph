specVersion: 0.0.2
description: PIXSales
schema:
  file: ./schema.graphql
dataSources:
  - kind: ethereum/contract
    name: PIXCluster
    network: mumbai
    source:
      address: "0xb3f40a5fe7f1621A36C540CF74BC76F8bc10fbAc"
      abi: PIXCluster
      startBlock: 21040280
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.4
      language: wasm/assemblyscript
      file: ./src/cluster.ts
      entities:
        - Global
        - Account
        - PIXCluster
      abis:
        - name: PIXCluster
          file: ./abis/cluster.json
      eventHandlers:
        - event: Transfer(indexed address,indexed address,indexed uint256)
          handler: handleTransfer

  - kind: ethereum/contract
    name: PIXFixedSale
    network: mumbai
    source:
      address: "0x1F2C31095e8D9947e7FEb3202e9fd20C1eC0FF4B"
      abi: PIXFixedSale
      startBlock: 21040310
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.4
      language: wasm/assemblyscript
      file: ./src/sale.ts
      entities:
        - Global
        - Sale
      abis:
        - name: PIXFixedSale
          file: ./abis/sale.json
      eventHandlers:
        - event: SaleRequested(indexed address,indexed uint256,address,uint256[],uint256)
          handler: handleSaleRequested
        - event: SaleUpdated(indexed uint256,uint256)
          handler: handleSaleUpdated
        - event: SaleCancelled(indexed uint256)
          handler: handleSaleCancelled
        - event: Purchased(indexed address,indexed address,indexed uint256,uint256)
          handler: handleSalePurchased

  - kind: ethereum/contract
    name: PIXAuctionSale
    network: mumbai
    source:
      address: "0x86D6c04788f9355d88FDF15156eF8B0aC29A616b"
      abi: PIXAuctionSale
      startBlock: 21040313
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.4
      language: wasm/assemblyscript
      file: ./src/auction.ts
      entities:
        - Global
        - Sale
      abis:
        - name: PIXAuctionSale
          file: ./abis/auction.json
      eventHandlers:
        - event: SaleRequested(indexed address,indexed uint256,address,uint64,uint256[],uint256)
          handler: handleAuctionRequested
        - event: SaleUpdated(indexed uint256,uint64,uint256)
          handler: handleAuctionUpdated
        - event: SaleCancelled(indexed uint256)
          handler: handleAuctionCancelled
        - event: Purchased(indexed address,indexed address,indexed uint256,uint256)
          handler: handleAuctionPurchased
